#!/usr/bin/env ruby

require File.dirname(__FILE__) + '/../lib/google_weather'

if ARGV.size == 0
  puts 'Weather [Powered by Google]'
  puts 'USAGE: weather [zip code or city]'
  puts 'EXAMPLES:'
  puts '  weather 46544'
  puts '  weather "mishawaka, in"'
  exit
end

weather = GoogleWeather.new(ARGV[0])
current = weather.current_conditions
puts
puts "#{weather.forecast_information.city}"
puts "#{current.temp_f}° #{current.condition}"
puts "#{current.wind_condition}"
puts "#{current.humidity}"
puts

weather.forecast_conditions.each do |condition|
  puts "#{condition.day_of_week}"
  puts "  #{condition.condition}"
  puts "  High: #{condition.high}°"
  puts "  Low:  #{condition.low}°"
end

puts
